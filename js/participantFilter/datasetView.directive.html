<form name="form" class="form-horizontal" novalidate>
  <table class="table table-striped table-condensed "
      ng-class="{'table-bordered': !dataset.DemographicData}">
    <tbody>
      <tr ng-if="!dataset.DemographicData">
        <th class="col-xs-1 text-right" scope="row">
          <label class="control-label">Record Date</label>
        </th>
        <td>
          <input class="form-control" type="date"
              ng-model="entry.Date">
        </td>
      </tr>
      <tr ng-repeat="column in dataset.columns">
        <th class="col-xs-1 text-right" scope="row">
          <label class="control-label" ng-bind="column.Label"></label>
        </th>
        <td class="col-xs-4" 
            ng-show="isFormShown()">
          <select ng-model="$parent.$parent.entry[column.Name]"
                  ng-if="column.LookupQuery"
                  class="form-control">
            <option ng-repeat="option in lookups[column.LookupQuery].rows" value="{{option.Key}}">
              {{option.Label}}
            </option>
          </select>
          
          <input class="form-control" type="number"
              ng-if="!column.LookupQuery && column.RangeURI === 'http://www.w3.org/2001/XMLSchema#int'"
              ng-pattern="/^\d*$/"
              ng-model="$parent.$parent.entry[column.Name]"
              placeholder="Requires whole numbers only">

          <input class="form-control" type="number"
              ng-if="!column.LookupQuery && column.RangeURI === 'http://www.w3.org/2001/XMLSchema#double'"
              ng-pattern="/^\d{0,}\.{0,1}\d{0,}$/"
              ng-model="$parent.$parent.entry[column.Name]"
              placeholder="Decimal places allowed"
              step="any">


          <input class="form-control" type="date"
              ng-if="!column.LookupQuery && column.RangeURI === 'http://www.w3.org/2001/XMLSchema#dateTime'"
              ng-model="$parent.$parent.entry[column.Name]">

          <input class="form-control" type="text"
              ng-if="!column.LookupQuery && column.RangeURI === 'http://www.w3.org/2001/XMLSchema#string'"
              ng-model="$parent.$parent.entry[column.Name]">
          
          
        </td>
        <td ng-class="{'col-xs-1': !dataset.DemographicData}" 
            ng-repeat="row in participant.dataSets[dataset.Name]"
            ng-bind="getValue(row, column)">
        </td>
      </tr>
    </tbody>
  </table>
  <div ng-show="isFormShown()">
    <div class="btn-toolbar" role="toolbar" aria-label="Form controls">
      <input type="button" class-"btn btn-success" ng-click="reset(form)" value="Reset" />
      <input type="submit" class="btn" ng-click="createEntry(entry)" value="Save" />
    </div>
  </div>
</form>
